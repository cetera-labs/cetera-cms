---
layout: default
title: Файловая структура Cetera CMS
nav_order: 2
parent: Cetera CMS изнутри
grand_parent: Руководство разработчика
---

# Файловая структура Cetera CMS
```
&lt;DOCUMENT_ROOT&gt;
+---.prefs           &nbsp;—&nbsp;основные настройки CMS
+---.htaccess        &nbsp;—&nbsp;настройки прав доступа и url rewrite
+---robots.txt    
+---cms/                    &nbsp;—&nbsp;скрипты Cetera CMS
+---library/                &nbsp;—&nbsp;сторонние библиотеки, используемые Cetera CMS
+---uploads/                &nbsp;—&nbsp;каталог по умолчанию для файлов, загружаемых пользователями через интерфейс CMS
+---plugins/                &nbsp;—&nbsp;каталог с дополнительными модулями
+---themes/                 &nbsp;—&nbsp;каталог с темами (редакциями)
+---.cache/                 &nbsp;—&nbsp;хранилище кэша
+---.templates/             &nbsp;—&nbsp;скрипты сайта
|   +---design/             &nbsp;—&nbsp;верстка 
|   |   +---layout.twig     &nbsp;—&nbsp;главный шаблон
|   |   +---page_index.twig &nbsp;—&nbsp;шаблон главной страницы сайта
|   |   +---page_404.twig   &nbsp;—&nbsp;шаблон страницы 404
|   +---classes/            &nbsp;—&nbsp;пользовательские классы
|   +---widgets/            &nbsp;—&nbsp;шаблоны виджетов
|   +---default.php         &nbsp;—&nbsp;контроллер по умолчанию
|   +---bootstrap.php       &nbsp;—&nbsp;скрипт запускаемый перед выполнением любого контроллера
+---css/                    &nbsp;—&nbsp;стили
+---js/                     &nbsp;—&nbsp;javascripts
```

По умолчанию, все скрипты, отвечающие за логику работы сайта располагаются в каталоге <DOCUMENT_ROOT>/.templates. Имеется возможность переопределить этот каталог персонально для каждого сервера, задав нужное значение в поле «Каталог» в свойствах сервера в интерфейсе Cetera CMS.

Например, при активации темы (редакции) на конкретном сервере прописывается каталог <DOCUMENT_ROOT>/themes/<НАЗВАНИЕ ТЕМЫ>, структура которого идентична .templates, за исключением того, что стили и js-скрипты (каталоги css и js) находятся также внутри каталога темы.

Замечание, касаемо сайтов, созданных в конструкторе fastsite.ru:

<DOCUMENT_ROOT> этих сайтов расположен в каталоге www/subdmn/<ИМЯ САЙТА>
Для этих сайтов, устанавливается тема simple. Поэтому, все файлы этих сайтов располагаются в каталоге www/subdmn/<ИМЯ САЙТА>/themes/simple
Шаблонизатор Twig
В качестве шаблонизатора при разработке сайтов используем Twig http://twig.sensiolabs.org

Инициализация движка производится в bootstrap.php:

	$twig = \Cetera\Application::getInstance()->getTwig();
 
Правила именования шаблонов
Все шаблоны в подкаталоге design
Использование подкаталогов внутри design не приветствуется. Если у вас 100 шаблонов, то с вероятностью 90% вы делаете что-то не так
Расширение файлов .twig
Главный шаблон называется layout.twig
Шаблон главной страницы называется page_index.twig
Шаблоны страниц называются page_*.twig
Подключаемые блоки называются block_*.twig
Шаблоны писем называются mail_*.twig
Шаблоны rss лент называются rss_*.twig
Макросы — macros_*.twig
Не приветствуется вынос кода из шаблона в подключаемый шаблон, если подключать вы его будете всего в 1 месте
Главный шаблон и шаблоны страниц:
Главный шаблон layout.twig — скелет сайта. Содержит код, повторяющийся на всех остальных страницах сайта:

	{% raw %}<html>
	  <head>
	  … стили, мета, скрипты …
	  </head>
	  <body>
	  … ШАПКА …
	 
	  … ЛЕВАЯ КОЛОНКА …
	 
	  {% block content %}центральная часть, будет переопределена в конкретных страницах{% endblock %}
	 
	  … ПРАВАЯ КОЛОНКА …
	 
	  … ПОДВАЛ …
	  </body>
	</html>{% endraw %}
Шаблоны страниц как правило расширяют главный шаблон, например page_index.twig может выглядеть так:

	{% raw %}{% extends "layout.twig" %}
	{% block content %}Добро пожаловать на главную страницу!{% endblock %}{% endraw %}